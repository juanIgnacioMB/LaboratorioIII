<!DOCTYPE html>
<head>
  <meta http-equiv="Content-Type" charset="utf-8" />
  <title>Ejercicios espciales 1 arreglo de objetos</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <h1>Formulario para altas de peliculas</h1>
  </header>
  <form action="./respuesta.html">
    <div class="input-div">
      <label for="">Titulo</label>
      <input type="text" name="titulo" required />
    </div>
    <div class="input-div">
      <label for="">Lanzamiento</label>
      <input type="date" name="lanzamiento" required />
    </div>

    <div class="input-div">
      <label for="">Director</label>
      <input type="text" name="director" required />
    </div>

    <div class="input-div">
      <label for="">Genero</label>
      <select name="genero" id="generos"></select>
    </div>

    <div class="input-div">
      <label for="">Rating imdb</label>
      <input type="text" name="rating" required />
    </div>

    <div class="input-div">
      <button type="submit">Enviar</button>
    </div>
  </form>
  <footer>
    <h1>Pie del formulario</h1>
  </footer>

  <script>
    var textoPeliculas =
      '{"peliculas": ' +
      "[" +
      '{"titulo" : "Django unchained", "lanzamiento": "31/01/2013" , "director": "Tarantino", "ratingImdb" : "8.5" , "genero": "thiller"},' +
      '{"titulo" : "Fearless", "lanzamiento": "15/10/1993" , "director": "Weir", "ratingImdb" : "7.1", "genero": "drama"},' +
      '{"titulo" : "The Exorcist", "lanzamiento": "15/08/1974" , "director": "Friedkin", "ratingImdb" : "8.1", "genero": "terror"}' +
      "]" +
      "}";

    var generos = document.getElementById("generos");
    var peliculasJson = JSON.parse(textoPeliculas);

    function crearOpcionesGeneros() {
      peliculasJson.peliculas.forEach(function (peli, argIndice) {
        var objOpcion = document.createElement("option");
        objOpcion.setAttribute("class", "elementoOptionSelect");
        objOpcion.setAttribute("value", peli.genero);
        objOpcion.innerHTML = peli.genero;
        generos.appendChild(objOpcion);
      });
    }

    crearOpcionesGeneros();
  </script>
</body>
